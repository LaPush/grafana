<div ng-include="httpConfigPartialSrc"></div>

<!-- <p ng-repeat="(k, v) in $scope">{{k}} -> {{v}}</p> -->

<div class="tight-form">

  <!-- HTTP method to use when querying timeseries -->
  <ul class="tight-form-list">
    <li class="tight-form-item" style="width: 80px">
      Method
    </li>
    <li class="tight-form-item">
      <select class="tight-form-input input-medium" ng-model="current.jsonData.jsonMethod">
        <option value="GET">GET</option>
        <option value="POST">POST</option>
      </select>
    </li>
  </ul>
  <div class="clearfix"></div>

  <!-- Path to append to base URL use when querying timeseries -->
  <ul class="tight-form-list">
    <li class="tight-form-item" style="width: 80px">
      Path
    </li>
    <li class="tight-form-item">
      <input type="text" class="tight-form-input input-xlarge" ng-model="current.jsonData.jsonPath" placeholder=""></input>
    </li>
  </ul>
  <div class="clearfix"></div>

  <!-- Format to use when substituting time in the `from` and `to` template variables. -->  	  
  <ul class="tight-form-list">
    <li class="tight-form-item" style="width: 80px">
      Time Format:
    </li>
    <li class="tight-form-item">
      <select class="tight-form-input input-large" ng-model="current.jsonData.jsonTimeFormat">
        <option value="epoch_ms">Millseconds since UTC Epoch</option>
        <option value="epoch_seconds">Seconds since UTC Epoch</option>
        <option value="iso8601">ISO 8601</option>
      </select>
    </li>
  </ul>
  <div class="clearfix"></div>
</div>

<h5> Template Variables</h5>

<div ng-init="current.jsonData.jsonTemplateVars = current.jsonData.jsonTemplateVars || []">
  <!-- Display the `from` template variable. -->
  <ul class="tight-form-list">
    <li class="tight-form-item" style="width: 80px">
      from
    </li>
    <li class="tight-form-item">
      <p>?</p>
    </li>
  </ul>
  <div class="clearfix"></div>

  <!-- Display the `to` template variable. -->
  <ul class="tight-form-list">
    <li class="tight-form-item" style="width: 80px">
      to
    </li>
    <li class="tight-form-item">
      <p>?</p>
    </li>
  </ul>
  <div class="clearfix"></div>

</div>

<div ng-repeat="v in current.jsonData.jsonTemplateVars">
  <ul class="tight-form-list">
    <li class="tight-form-item" style="width: 80px">
      Name
    </li>
    <li class="tight-form-item">
      <input type="text" class="tight-form-input input-xlarge" ng-model="v.name" placeholder=""></input>
    </li>
  </ul>
  <ul class="tight-form-list">
    <li class="tight-form-item last">
      <a class="pointer" ng-click="current.jsonData.jsonTemplateVars.splice($index, 1)">
        <i class="fa fa-remove"></i>
      </a>
    </li>
  </ul>
  <br/>

  <div class="clearfix"></div>
</div>

<br/>

<button class="btn" ng-click="current.jsonData.jsonTemplateVars.push({name: ''});">Add Template Variable</button>
